'use client';
import React from 'react';
import Link from 'next/link';
import { usePathname } from 'next/navigation';
import { cn } from '@/lib/utils';

function NavLink({
  href,
  icon,
  isActive,
}: Readonly<{
  href: string;
  icon: React.ReactElement;
  isActive: boolean;
}>) {
  return (
    <Link
      href={href}
      className={cn('transition-all', {
        '[&>svg]:fill-white [&>svg>path]:stroke-white': isActive,
      })}
    >
      {icon}
    </Link>
  );
}

export default function MobileBottomNav() {
  const pathname = usePathname();

  return (
    <nav className="fixed bottom-6 left-6 right-6 rounded-2xl z-50 bg-primary h-14 flex justify-around items-center shadow-md">
      <NavLink
        href="/"
        icon={
          <svg
            width="26"
            height="29"
            viewBox="0 0 26 29"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M11.7169 16.8503C11.2088 16.8505 10.7218 17.0525 10.3624 17.4119C10.0031 17.7712 9.80101 18.2582 9.8009 18.7664V26.3503H16.4679V18.7664C16.4678 18.2583 16.2655 17.7712 15.9064 17.4119C15.547 17.0525 15.0592 16.8504 14.5509 16.8503H11.7169ZM0.883911 12.0476C0.879704 11.5151 0.988791 10.9877 1.20422 10.5007C1.41904 10.0153 1.73483 9.58076 2.13 9.22632L10.63 1.77417L10.6339 1.77124C11.3214 1.15633 12.2116 0.816203 13.1339 0.816162C14.0563 0.816162 14.9464 1.1563 15.6339 1.77124L15.6378 1.77417L24.1378 9.22632C24.5315 9.57936 24.8459 10.0117 25.0607 10.4949C25.2761 10.9796 25.3863 11.5045 25.3839 12.0349V24.4333C25.3839 25.4279 24.9885 26.3815 24.2853 27.0847C23.582 27.788 22.6285 28.1833 21.6339 28.1833H4.63391C3.6394 28.1833 2.68577 27.7879 1.98254 27.0847C1.27936 26.3815 0.883911 25.4279 0.883911 24.4333V12.0476Z"
              stroke="white"
            />
          </svg>
        }
        isActive={pathname === '/'}
      />
      <NavLink
        href="/favorites"
        icon={
          <svg
            width="30"
            height="31"
            viewBox="0 0 30 31"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M12.7992 1.33331H17.1967L17.3461 1.34601C17.4932 1.37022 17.6333 1.42872 17.7552 1.51691C17.9181 1.63469 18.0405 1.80016 18.1049 1.99054V1.98956L19.0287 4.76105L19.2103 5.30792L22.3373 3.74445L22.3363 3.74347C22.517 3.65487 22.7217 3.6257 22.9203 3.65851C23.1196 3.69149 23.3039 3.78609 23.4467 3.92902V3.92999L26.5707 7.05402C26.7105 7.19577 26.8035 7.3771 26.8363 7.57355C26.8692 7.77086 26.8395 7.97358 26.7523 8.15363L25.4506 10.7591L25.1927 11.2747L25.7396 11.4573L28.5111 12.3812C28.7023 12.4462 28.8681 12.5695 28.9857 12.7337C29.1037 12.8985 29.1669 13.0965 29.1664 13.2991V17.6995C29.1642 17.8992 29.1007 18.0933 28.9838 18.2552C28.8659 18.4181 28.6996 18.5405 28.5092 18.6048L25.7396 19.5286L25.1927 19.7103L25.4506 20.2259L26.7552 22.8372C26.8437 23.0178 26.874 23.2217 26.8412 23.4202C26.8082 23.6195 26.7136 23.8038 26.5707 23.9466L23.4496 27.0677C23.3083 27.2065 23.1273 27.2985 22.932 27.3314C22.7394 27.3637 22.5416 27.3365 22.3646 27.2542L19.7552 25.9505L19.2396 25.6927L19.058 26.2396L18.1342 29.0091C18.0694 29.2009 17.9462 29.3677 17.7816 29.4857C17.6169 29.6036 17.4188 29.6668 17.2162 29.6663H12.8138C12.6112 29.6668 12.4132 29.6036 12.2484 29.4857C12.0837 29.3677 11.9597 29.2011 11.8949 29.0091L10.972 26.2396L10.7894 25.6927L10.2738 25.9505L7.66541 27.2542C7.48427 27.3436 7.27974 27.374 7.08044 27.3411C6.88111 27.3082 6.6969 27.2135 6.55408 27.0706L3.43005 23.9466C3.28979 23.8047 3.19626 23.6229 3.16345 23.4261C3.1388 23.2781 3.14929 23.1269 3.19275 22.9847L3.24744 22.846L4.80798 19.7249L4.26111 19.5433L1.48962 18.6194H1.4906C1.29866 18.5546 1.13197 18.4307 1.01404 18.2659C0.896259 18.1013 0.832894 17.9039 0.833374 17.7015V13.304C0.834867 13.103 0.89916 12.9073 1.01697 12.7444C1.13436 12.5822 1.29908 12.4603 1.48865 12.3958L4.26111 11.472L4.80798 11.2894L4.55017 10.7737L3.24451 8.16339C3.15592 7.98279 3.12586 7.77889 3.15857 7.58038C3.19149 7.38113 3.28628 7.19681 3.42908 7.05402H3.43005L6.5531 3.92902C6.69492 3.78897 6.877 3.69621 7.07361 3.66339C7.27073 3.63054 7.47376 3.65946 7.65369 3.7464L10.2592 5.05011L10.7748 5.30792L10.9574 4.76105L11.8812 1.98859L11.8802 1.98761C11.9453 1.79673 12.0697 1.63138 12.2338 1.51398C12.3985 1.39606 12.5966 1.33279 12.7992 1.33331ZM15.0004 9.13312C13.7412 9.13312 12.5102 9.50687 11.4633 10.2064C10.4163 10.9059 9.59943 11.9004 9.11755 13.0638C8.63579 14.227 8.50961 15.5076 8.75525 16.7425C9.00095 17.9774 9.60809 19.1119 10.4984 20.0023C11.3888 20.8925 12.5233 21.4988 13.7582 21.7444C14.9931 21.99 16.2736 21.864 17.4369 21.3821C18.6 20.9003 19.5938 20.0841 20.2933 19.0374C20.9929 17.9905 21.3665 16.7594 21.3666 15.5003C21.3666 13.8119 20.6961 12.1923 19.5023 10.9984C18.3084 9.80445 16.6888 9.1332 15.0004 9.13312Z"
              stroke="white"
            />
          </svg>
        }
        isActive={pathname === '/favorites'}
      />
      <NavLink
        href="/profile"
        icon={
          <svg
            width="30"
            height="31"
            viewBox="0 0 30 31"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M15 1.33496C18.7568 1.33497 22.3602 2.82695 25.0166 5.4834C27.673 8.13985 29.165 11.7432 29.165 15.5C29.165 19.2568 27.673 22.8602 25.0166 25.5166C22.3602 28.173 18.7568 29.665 15 29.665C11.2432 29.665 7.63985 28.173 4.9834 25.5166C2.32695 22.8602 0.834971 19.2568 0.834961 15.5C0.834961 11.7432 2.32695 8.13985 4.9834 5.4834C7.63985 2.82695 11.2432 1.33496 15 1.33496ZM15 7.66699C10.6808 7.66699 7.1675 11.18 7.16699 15.499C7.16422 16.5287 7.36627 17.5489 7.76074 18.5C8.15467 19.4497 8.73366 20.3113 9.46289 21.0361V21.0371C10.1882 21.767 11.0514 22.3463 12.002 22.7402C12.9522 23.134 13.9714 23.3338 15 23.3311C19.3196 23.331 22.8319 19.8173 22.832 15.498C22.832 11.1784 19.3193 7.66701 15 7.66699ZM18.5869 15.4902C18.5853 15.0127 18.4891 14.5401 18.3047 14.0996C18.1202 13.6591 17.8509 13.2591 17.5117 12.9229C17.1726 12.5866 16.7702 12.3203 16.3281 12.1396C15.9414 11.9817 15.5307 11.8913 15.1143 11.873L14.9365 11.8701C14.459 11.8716 13.9865 11.9671 13.5459 12.1514C13.1052 12.3357 12.7046 12.6052 12.3682 12.9443C12.0317 13.2835 11.7658 13.6858 11.585 14.1279C11.4042 14.5699 11.3122 15.0431 11.3145 15.5205C11.3166 16.0559 11.4381 16.5848 11.6699 17.0674C11.7855 17.308 11.9272 17.5341 12.0918 17.7422C11.4525 18.0475 10.8667 18.4537 10.3555 18.9453C9.61457 17.9551 9.2107 16.7473 9.21289 15.501C9.21493 13.9663 9.82574 12.4942 10.9111 11.4092C11.9964 10.3245 13.4676 9.71458 15.002 9.71289C16.5358 9.71508 18.0063 10.3254 19.0908 11.4102C20.1753 12.495 20.7855 13.966 20.7871 15.5L20.7803 15.7715C20.7239 16.9471 20.3082 18.0749 19.5938 19.0049C19.068 18.4842 18.4606 18.0613 17.8008 17.7451C18.2893 17.1291 18.5869 16.3496 18.5869 15.4912V15.4902Z"
              stroke="white"
            />
          </svg>
        }
        isActive={pathname === '/profile'}
      />
    </nav>
  );
}
